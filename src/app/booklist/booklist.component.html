<body>
  <app-booklist-control *ngIf='showControl' [test]='test' (closeControl)='closeControl($event)' [activeData]='activeData'></app-booklist-control>
  <app-booklist-dashboard *ngIf='showDashboard' [test]='test' (closeDashboard)='closeDashboard($event)' [activeData]='activeData'></app-booklist-dashboard>
  <md-card *ngIf='showReport === true' id="report-card">
    <!--- Everything in the toolbar should be the same for any report --->
    <md-toolbar class="top-bar">
      <span id="toolbar-text-report">{{title}}</span>
      <button md-button id="action-button" (click)="openControl()">Controls</button>
      <button md-button id="action-button" (click)="downloadReport()">Export CSV</button>
      <button md-button id="action-button" (click)="openInfoPage()">Info</button>
      <button md-button id="action-button" (click)="openDashboard()">Dashboard</button>
      <button md-button id="action-button" (click)="showValue()">Dashboard</button>
    </md-toolbar>

    <!--- this is where the table layout and data will go -->
    <table>
      <tr class="header">
        <th> Department </th>
        <th> Course </th>
        <th> Section </th>
        <th> Instructor </th>
        <th> Estimated Enrollment </th>
        <th> Actual Enrollment </th>
        <th> Is Required </th>
        <th> ISBN </th>
        <th> Title </th>
        <th> Author </th>
        <th> Sale New </th>
        <th> Sale Used </th>
        <th> Rent New </th>
        <th> Rent Used </th>
      </tr>
      <md-progress-circle *ngIf='showSpinner === true ' mode="indeterminate"></md-progress-circle>
      <tr *ngFor='let report of reportData' class="data">
        <td> {{report.deptCode}} </td>
        <td> {{report.courseCode}} </td>
        <td> {{report.sectionCode}} </td>
        <td> {{report.instructorName}} </td>
        <td> {{report.sectionCapacity}} </td>
        <td> {{report.sectionEnrollment}} </td>
        <td> {{report.bookRequired}} </td>
        <td> {{report.productCode}} </td>
        <td> {{report.name}} </td>
        <td> {{report.author}} </td>
        <td> {{report.saleNew | currency:'USD' :true: '1.2-2'}} </td>
        <td> {{report.saleUsed | currency:'USD' :true: '1.2-2'}} </td>
        <td> {{report.rentNew | currency:'USD' :true: '1.2-2'}} </td>
        <td> {{report.rentUsed | currency:'USD' :true: '1.2-2'}} </td>
      </tr>
    </table>
  </md-card>


  <!-- this is the no Data error message -->
  <div *ngIf='showNoDataDialog === true ' class="dialog layered-content">
    <md-card class='dialog-card content'>
      <md-card-title>Shoot, sorry it has come to this...</md-card-title>
      <md-card-content>
        <h4>We couldn't find anything to show you. <br>You can try again (maybe with some different controls) <br>or let us know
          what you were expecting to see here. </h4>
      </md-card-content>

      <md-card-actions align="end">
        <button md-button (click)="closeErrorDialog()">Try Again</button>
        <button md-raised-button (click)="emailError()" class="raised-button">Contact</button>
      </md-card-actions>

    </md-card>
  </div>
  <router-outlet></router-outlet>

</body>